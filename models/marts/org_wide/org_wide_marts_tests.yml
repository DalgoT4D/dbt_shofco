version: 2

models:
  - name: county_footprint
    description: "Tracks the program's impact across counties with consolidated data."
    columns:
      - name: county
        tests:
          - not_null
      - name: iso_3166_2_code
        tests:
          - not_null
          - unique
      - name: latitude
        tests:
          - not_null
      - name: longitude
        tests:
          - not_null
      - name: sl
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
      - name: sun
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: wash
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: sacco
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: gender
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: health
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: education
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: libraries
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: integer
      - name: youth_voice
        tests:
          - not_null
          - accepted_values:
              values: [1, 0]

  - name: mapping
    description: "Standardizes and prepares mapping data for program-wide reporting and analysis."
    columns:
      - name: id
        tests:
          - not_null
      - name: case_id
        tests:
          - not_null
      - name: case_type
        tests:
          - not_null
      - name: county
        tests:
          - not_null
      - name: ward
        tests:
          - not_null
      - name: constituency
        tests:
          - not_null
      - name: latitude
        tests:
          - not_null
      - name: longitude
        tests:
          - not_null
      - name: altitude
        tests:
          - not_null
      - name: accuracy
        tests:
          - not_null
      - name: received_on
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: date