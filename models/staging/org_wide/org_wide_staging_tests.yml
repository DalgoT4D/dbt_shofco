version: 2

models:
  - name: staging_county_footprint
    description: "Tracks the program's impact across counties with consolidated data."
    columns:
      - name: county
        tests:
          - not_null
      - name: iso_3166_2_code
        tests:
          - not_null
          - unique
      - name: latitude
        tests:
          - not_null
      - name: longitude
        tests:
          - not_null
      - name: sl
        tests:
          - accepted_values:
              values: ["Y", "N"]
      - name: sun
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: wash
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: sacco
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: gender
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: health
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: education
        tests:
          - not_null
          - accepted_values:
              values: ["Y", "N"]
      - name: libraries
        tests:
          - accepted_values:
              values: ["Y", "N"]
      - name: youth_voice
        tests:
          - accepted_values:
              values: ["Y", "N"]

  - name: staging_mapping
    description: "Standardizes and prepares mapping data for program-wide reporting and analysis."
    columns:
      - name: id
        tests:
          - not_null
      - name: case_id
        tests:
          - not_null
      - name: case_type
        tests:
          - not_null
          - accepted_values:
              values: ["school_case_data"]
      - name: comments
        tests:
          - not_null
      - name: county
        tests:
          - not_null
      - name: ward
        tests:
          - not_null
      - name: constituency
        tests:
          - not_null
      - name: gps_location
        tests:
          - not_null
      - name: type_of_school
        tests:
          - accepted_values:
              values: ["public", "private", "apbet"]
      - name: education_intervention
        tests:
          - accepted_values:
              values: ["high", "low_touch"]
      - name: facility
        tests:
          - accepted_values:
              values: ["school", "community_safe_space", "gender_officedesk"]
      - name: gender_program
        tests:
          - accepted_values:
              values: ["yes", "no"]
      - name: wash_program
        tests:
          - accepted_values:
              values: ["yes", "no"]
      - name: shofco_education_program
        tests:
          - accepted_values:
              values: ["yes", "no"]
      - name: received_on
        tests:
          - dbt_expectations.expect_column_values_to_be_of_type:
             column_type: date